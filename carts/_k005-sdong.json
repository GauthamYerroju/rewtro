{
	"metadata":{
		"title":"K005 - Sdong",
		"centerTitle":"SDONG",
		"legalText":"(c)2019 by KesieV - www.kesiev.com/rewtro"
	},
	"systemVersion":"0.1",
	"systemConfiguration":[{"controllerModel":1}],
	"data":[
		{
			"id":"A",
			"images":[
				{"id":"graphics","image":{"data":{"_file":"graphics/sdong.png"},"format":"monocolor"}}
			],
			"sounds":[
				{"id":"A","wave":"square","attack":12,"sustain":12,"decay":5,"release":5,"frequency":2},
				{"id":"B","wave":"square","attack":12,"sustain":12,"decay":5,"release":5,"frequency":20},
				{"id":"C","wave":"square","sustain":5,"decay":109,"release":224,"tremoloFrequency":224,"tremoloDepth":165,"pitch":95},
				{"id":"D","wave":"square","sustain":5,"decay":109,"release":224,"tremoloFrequency":224,"tremoloDepth":165,"pitch":160}
			],			
			"sprites":[{
				"id":"A","x":76,"y":128,"textColor":8,"textAlignment":"center","text":"(C)2019 BY KESIEV"
			},{
				"id":"B","x":48,"y":40,"width":63,"height":16,"graphicsX":0,"graphicsY":128,"scale":2
				}],
			"tilemaps":[{"map":["AB"]}],
			"code":[
				{
					"when":[{"as":"keyboard","attribute":"buttonA","if":[{"is":"hit"}]}],
					"then":[{"playAudio":[{"_":"A"}],"runScene":[{"_":"G"}]}]
				}
			]
		},
		{
			"id":"G",
			"sprites":[
				{
					"id":"A","flags":"PW","width":4,"height":16,"x":4,"y":64,"backgroundColor":8,"restitutionY":0.5
				},
				{
					"id":"C","width":4,"height":4
				},
				{
					"id":"B","flags":"PW","width":4,"height":16,"x":152,"y":64,"backgroundColor":8,"restitutionY":0.5
				},				
				{
					"id":"O","width":4,"height":4,"backgroundColor":8,"x":78,"y":70,"zIndex":1
				},
				{
					"id":"L","width":2,"height":144,"x":79,"y":0,"backgroundColor":15
				},
				{
					"id":"1","x":64,"y":8,"textColor":15
				},
				{
					"id":"2","x":88,"y":8,"textColor":15
				}
			],
			"tilemaps":[{
				"map":["ABCOL12"]
			}],
			"code":[
				{
					"when":[{"as":"scene","if":[{"itsAttribute":"timer","is":"==","_":25}]}],
					"then":[
						{
							"randomize":true,
							"id":"O",
							"playAudio":[{"_":"B"}],
							"set":[{
								"speedX":[{"list":[-1,1],"randomValue":true}],
								"speedY":[{"list":[-1,1],"randomValue":true}],
								"value0":[{"_":1.5}]
							}]
						}
					]
				},
				{
					"when":[{"as":"keyboard","attribute":"up","if":[{"is":"down"}]}],
					"then":[{"id":"A","subtract":[{"speedY":[{"_":1}]}]}]
				},
				{
					"when":[{"as":"keyboard","attribute":"down","if":[{"is":"down"}]}],
					"then":[{"id":"A","sum":[{"speedY":[{"_":1}]}]}]
				},{
					"when":[{"as":"keyboard","attribute":"buttonB","if":[{"is":"down"}]}],
					"then":[{"id":"B","subtract":[{"speedY":[{"_":1}]}]}]
				},
				{
					"when":[{"as":"keyboard","attribute":"buttonA","if":[{"is":"down"}]}],
					"then":[{"id":"B","sum":[{"speedY":[{"_":1}]}]}]
				},{
					"when":[{"flags":"P"}],
					"then":[{
						"code":[{
							"when":[{"if":[{"is":"collidingWith","id":"O"}]}],
							"then":[
								{"id":"C","placeAt":[{"as":"that"}]},
								{
									"playAudio":[{"_":"B"}],
									"id":"O",
									"sum":[{"value0":[{"_":0.4}]}],
									"setSpeedTo":[{
										"angle":[{"id":"C","angleTo":[{"id":"O"}]}],
										"by":[{"attribute":"value0"}]
									}]
								}
							]
						}]
					}]
				},			
				{
					"when":[
						{"event":"hitWall","id":"O","bounds":[{
							"modeBottom":"bound",
							"modeTop":"bound",
							"x":[{"_":-8}],
							"y":[{"_":0}],
							"width":[{"_":176}],
							"height":[{"_":144}]
						}]}
					],
					"then":[							
						{"playAudio":[{"_":"A"}],"bounce":[{"speedY":[{"_":-1}],"speedX":[{"_":-1}]}]}
					]
				},
				{
					"when":[
						{"event":"hitWall","flags":"W","bounds":[{
							"modeBottom":"bound",
							"modeTop":"bound",
							"x":[{"_":-8}],
							"y":[{"_":0}],
							"width":[{"_":176}],
							"height":[{"_":144}]
						}]}
					],
					"then":[							
						{"bounce":[{"speedY":[{"_":0}],"speedX":[{"_":0}]}]}
					]
				},
				{
					"when":[{"id":"O","if":[{"itsAttribute":"x","is":"<","_":-4}]}],
					"then":[
						{"playAudio":[{"_":"C"}],"as":"scene","set":[{"timer":[{"_":0}]}],"sum":[{"value2":[{"_":1}]}]},
						{"remove":true},
						{"spawn":[{"ids":[{"_":"O"}],"at":[{"_":0}]}]}
					]
				},
				{
					"when":[{"id":"O","if":[{"itsAttribute":"x","is":">","_":160}]}],
					"then":[
						{"playAudio":[{"_":"C"}],"as":"scene","set":[{"timer":[{"_":0}]}],"sum":[{"value1":[{"_":1}]}]},
						{"remove":true},
						{"spawn":[{"ids":[{"_":"O"}],"at":[{"_":0}]}]}
					]
				},
				{
					"when":[{"as":"scene","if":[{"itsAttribute":"value1","is":">=","_":10}]}],
					"then":[{"as":"game","set":[{"value0":[{"_":1}]}],"runScene":[{"_":"E"}]}]
				},
				{
					"when":[{"as":"scene","if":[{"itsAttribute":"value2","is":">=","_":10}]}],
					"then":[{"as":"game","set":[{"value0":[{"_":2}]}],"runScene":[{"_":"E"}]}]
				},
				{
					"then":[
						{"id":"1","set":[{"text":[{"as":"scene","attribute":"value1"}]}]},
						{"id":"2","set":[{"text":[{"as":"scene","attribute":"value2"}]}]}
					]
				}
			]
		},
		{
			"id":"E",
			"sprites":[{
				"id":"A","x":76,"y":68,"textColor":8,"textAlignment":"center"
			}],
			"tilemaps":[{"playAudio":"D", "map":["A"]}],
			"code":[
				{
					"then":[
						{"id":"A","set":[{"text":[{"as":"game","attribute":"value0","prefix":"PLAYER ","suffix":" WON"}]}]}
					]
				},
				{
					"when":[{"as":"keyboard","attribute":"buttonA","if":[{"is":"hit"}]}],
					"then":[{"runScene":[{"_":"A"}]}]
				}
			]
		}
	]
}