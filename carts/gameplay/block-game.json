{
	"tilemaps":[
		{
			"y":-24,"song":"A",
			"tileWidth":8,"tileHeight":8,"map":[
				"STG      X   X   X  X     X",
				" XX XXXX XX XX  XXX XXX XXX",
				" XX       X X              "
			]
		}
	],
	"sprites":[
		{"id":"G","x":16,"width":80,"height":1},
		{
			"id":"X",
			"width":8,"height":8
		},
		{
			"id":"Y",
			"width":8,"height":8,"graphicsY":24
		},
		{
			"id":"Z","flags":"W","backgroundColor":2
		},
		{
			"id":"W","graphicsY":8,"graphicsX":56,"zIndex":10,"width":8,"height":8
		},
		{
			"id":"K","flags":"WB",
			"width":8,"height":8,"graphicsY":16
		},
		{
			"id":"N",
			"width":8,"height":8,"graphicsY":24,"backgroundColor":1
		},
		{
			"id":"S","textColor":1,
			"zIndex":10,"x":112,"y":24,"width":8,"height":8
		},
		{
			"id":"T","textColor":1,
			"zIndex":10,"x":112,"y":48,"width":8,"height":8
		}
	],"code":[
		{
			"when":[{"as":"scene","attribute":"timer","if":[{"is":"==","_":0}]}],
			"then":[
				{"inArea":[{
					"x":[{"_":8}],"y":[{"_":-8}],
					"width":[{"_":96}],"height":[{"_":160}]
				}],"outlineAreaWithPattern":["W"]},
				{"spawn":[{"ids":[{"_":"Z"}],"at":[{"list":[-16,-48]}]}],"set":[{"width":[{"_":32}],"height":[{"_":192}]}]},
				{"spawn":[{"ids":[{"_":"Z"}],"at":[{"list":[96,-48]}]}],"set":[{"width":[{"_":64}],"height":[{"_":192}]}]},
				{"spawn":[{"ids":[{"_":"Z"}],"at":[{"list":[-16,144]}]}],"set":[{"width":[{"_":144}],"height":[{"_":32}]}]},
				{"as":"game","set":[{"value0":[{"_":0}],"value1":[{"_":0}]}]},
				{"id":"G","triggerEvent":"event1","forceEvent":true}
			]
		},
		{
			"when":[{"event":"event1","ids":"G"}],
			"then":[
				{
					"id":"G",
					"set":[{
						"value1":[{"as":"game","attribute":"value0"}],
						"value2":[{"as":"scene","attribute":"value2"}],
						"value3":[{"as":"scene","attribute":"value3"}],
						"value4":[{"_":40}],
						"value5":[{"_":-24}],
						"value8":[{"_":0}],
						"value9":[{"_":20}]
					}],
					"divide":[{"value1":[{"_":2}]}],
					"triggerEvent":"event0","forceEvent":true
				},
				{"id":"G","subtract":[{
					"value9":[{"attribute":"value1"}]
				}]
				},
				{"as":"scene","set":[{
					"value2":[{"list":[0,6],"randomNumber":true}],					
					"value3":[{"list":[0,3],"randomNumber":true}]
				}],"multiply":[{"value2":[{"_":32}]}]},
				{"id":"N","remove":true},
				{"id":"X","inArea":[{
					"x":[{"as":"scene","attribute":"value2"}],
					"y":[{"_":-24}],
					"width":[{"_":32}],
					"height":[{"_":32}]
				}],"areaCopy":[{
					"x":[{"_":112}],
					"y":[{"_":88}],
					"fromIds":"X",
					"toIds":"N"
				}]},
				{
					"id":"N","inArea":[{
						"x":[{"_":112}],
						"y":[{"_":88}],
						"width":[{"_":32}],
						"height":[{"_":32}]
					}],
					"areaRotate":[{"as":"scene","attribute":"value3"}],
					"set":[{"graphicsX":[{"as":"scene","attribute":"value2"}]}],
					"divide":[{"graphicsX":[{"_":4}]}]
				}
			]
		},
		{
			"when":[{"event":"event0","ids":"G"}],
			"then":[
				{"id":"G","set":[{"value6":[{"_":0}],"value0":[{"_":24}]}]},
				{"id":"Y","remove":true},
				{"id":"X","inArea":[{
					"x":[{"id":"G","attribute":"value2"}],
					"y":[{"_":-24}],
					"width":[{"_":32}],
					"height":[{"_":32}]
				}],"areaCopy":[{
					"x":[{"id":"G","attribute":"value4"}],
					"y":[{"id":"G","attribute":"value5"}],
					"fromIds":"X",
					"toIds":"Y"
				}]},				
				{
					"id":"G",
					"code":[
						{
							"when":[{"if":[{"itsAttribute":"value2","is":"<","_":64}]}],
							"then":[
								{"id":"G","set":[{"value0":[{"_":32}]}]}
							]
						},
						{
							"then":[
							{"id":"Y","inArea":[{
								"x":[{"id":"G","attribute":"value4"}],
								"y":[{"id":"G","attribute":"value5"}],
								"width":[{"id":"G","attribute":"value0"}],
								"height":[{"id":"G","attribute":"value0"}]
							}],"areaRotate":[{"id":"G","attribute":"value3"}],
							"set":[{"graphicsX":[{"id":"G","attribute":"value2"}]}],
							"divide":[{"graphicsX":[{"_":4}]}]}]
						},
						{
						"when":[{"id":"Y"}],
						"then":[{
							"code":[{
								"when":[{"if":[{"is":"collidingWith","flags":"W"}]}],
								"then":[{"id":"G","set":[{"value6":[{"_":1}]}]}]
							}]
						}]
					}]
				}
			]
		},
		{
			"when":[{"as":"keyboard","attribute":"right","if":[{"is":"hit"}]}],
			"then":[
				{"playAudio":[{"_":{"_placeholder":"movePlayAudio"}}],"id":"G","triggerEvent":"event0","forceEvent":true,"sum":[{"value4":[{"_":8}]}],"code":[{
					"when":[{"if":[{"itsAttribute":"value6","is":"==","_":1}]}],
					"then":[
						{"triggerEvent":"event0","forceEvent":true,"subtract":[{"value4":[{"_":8}]}]}
					]
				}]}
			]
		},
		{
			"when":[{"as":"keyboard","attribute":"left","if":[{"is":"hit"}]}],
			"then":[
				{"playAudio":[{"_":{"_placeholder":"movePlayAudio"}}],"id":"G","triggerEvent":"event0","forceEvent":true,"subtract":[{"value4":[{"_":8}]}],"code":[
					{
					"when":[{"if":[{"itsAttribute":"value6","is":"==","_":1}]}],
					"then":[
						{"triggerEvent":"event0","forceEvent":true,"sum":[{"value4":[{"_":8}]}]}
					]
				}]}
			]
		},
		{
			"when":[{"as":"keyboard","attribute":"down","if":[{"is":"down"}]}],
			"then":[
				{"as":"game","sum":[{"value1":[{"_":1}]}]},
				{"id":"G","set":[{"value8":[{"_":100}]}]}
			]
		},
		{
			"when":[{"as":"keyboard","attribute":"buttonA","if":[{"is":"hit"}]}],
			"then":[
				{
					"id":"G",
					"playAudio":[{"_":{"_placeholder":"rotatePlayAudio"}}],
					"code":[
						{
							"then":[
								{"sum":[{"value3":[{"_":1}]}]},
								{"triggerEvent":"event0","forceEvent":true}
							]
						},
						{
							"when":[{"if":[{"itsAttribute":"value6","is":"==","_":1}]}],
							"then":[
								{"sum":[{"value4":[{"_":8}]}]},
								{"triggerEvent":"event0","forceEvent":true}
							]
						},
						{
							"when":[{"if":[{"itsAttribute":"value6","is":"==","_":1}]}],
							"then":[
								{"subtract":[{"value4":[{"_":16}]}]},
								{"triggerEvent":"event0","forceEvent":true}
							]
						},
						{
							"when":[{"if":[{"itsAttribute":"value6","is":"==","_":1}]}],
							"then":[
								{"sum":[{"value4":[{"_":8}]}],"subtract":[{"value3":[{"_":1}]}]},
								{"triggerEvent":"event0","forceEvent":true}
							]
						}
					]
				}
			]
		},
		{
			"when":[{"as":"keyboard","attribute":"buttonB","if":[{"is":"hit"}]}],
			"then":[
				{
					"id":"G",
					"playAudio":[{"_":{"_placeholder":"rotatePlayAudio"}}],
					"code":[
						{
							"then":[
								{"subtract":[{"value3":[{"_":1}]}]},
								{"triggerEvent":"event0","forceEvent":true}
							]
						},
						{
							"when":[{"if":[{"itsAttribute":"value6","is":"==","_":1}]}],
							"then":[
								{"sum":[{"value4":[{"_":8}]}]},
								{"triggerEvent":"event0","forceEvent":true}
							]
						},
						{
							"when":[{"if":[{"itsAttribute":"value6","is":"==","_":1}]}],
							"then":[
								{"subtract":[{"value4":[{"_":16}]}]},
								{"triggerEvent":"event0","forceEvent":true}
							]
						},
						{
							"when":[{"if":[{"itsAttribute":"value6","is":"==","_":1}]}],
							"then":[
								{"sum":[{"value4":[{"_":8}],"value3":[{"_":1}]}]},
								{"triggerEvent":"event0","forceEvent":true}
							]
						}
					]
				}
			]
		},{
			"when":[{"id":"G","if":[{"itsAttribute":"value8","is":">","attribute":"value9"}]}],
			"then":[				
				{
					"set":[{"y":[{"_":140}],"value8":[{"_":0}]}],
					"sum":[{"value5":[{"_":8}]}],
					"triggerEvent":"event0",
					"forceEvent":true
				},
				{"code":[{
					"when":[{"if":[{"itsAttribute":"value6","is":"==","_":1}]}],
					"then":[
						{"triggerEvent":"event0","forceEvent":true,"subtract":[{"value5":[{"_":8}]}]},
						{"as":"game","set":[{"value5":[{"_":100}],"value3":[{"_":5}],"value4":[{"_":0}]}]},
						{"code":[
							{
								"when":[{"id":"Y"}],
								"then":[{"spawn":[{"ids":[{"_":"K"}],"at":[{"as":"this"}]}],"set":[{"graphicsX":[{"id":"G","attribute":"value2"}]}],"divide":[{"graphicsX":[{"_":4}]}]}]
							},
							{
								"times":[{"_":18}],
								"then":[{"code":[
									{
										"when":[
											{"if":[{"is":"collidingWith","flags":"W"}]},
											{"as":"that","count":true,"if":[{"is":"==","_":10}]}
										],
										"then":[
											{"as":"game","sum":[{"value0":[{"_":1}],"value4":[{"_":1}],"value1":[{"attribute":"value5"}]}],"multiply":[{"value5":[{"_":2}]}]},
											{"as":"that","remove":true},
											{"id":"K","inArea":[{
												"x":[{"_":16}],
												"y":[{"_":0}],
												"width":[{"_":80}],
												"height":[{"id":"G","attribute":"y"}]
											}],"sum":[{"y":[{"_":8}]}]}
										],
										"else":[
											{
												"code":[{
													"when":[{"if":[{"is":"collidingWith","flags":"W"}]}],
													"then":[{"as":"game","subtract":[{"value3":[{"_":0.2}]}]}]
												}]
											},
											{"subtract":[{"y":[{"_":8}]}]}
										]
									}
								]
							}]},
							{
								"when":[{"id":"K"}],
								"then":[{"code":[{
									"when":[{"if":[{"itsAttribute":"y","is":"<","_":0}]}],
									"then":[{"playAudio":[{"_":{"_placeholder":"failPlayAudio"}}],"runScene":[{"_":{"_placeholder":"runSceneGameOver"}}]}]									
								}]}]
							}
						]},
						{"triggerEvent":"event1","forceEvent":true,"setSongTempo":[{"as":"game","attribute":"value3"}],"playAudio":[{"as":"game","attribute":"value4"}]}
					]
				}]}
			],
			"else":[{"id":"G","sum":[{"value8":[{"_":1}]}]}]
		},
		{
			"then":[
				{"id":"S","set":[{"text":[{"as":"game","attribute":"value0","prefix":"LINES~"}]}]},
				{"id":"T","set":[{"text":[{"as":"game","attribute":"value1","prefix":"SCORE~","suffix":"~~NEXT:"}]}]}
			]
		}
	]
}