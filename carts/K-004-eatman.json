{
	"metadata":{
		"title":"K004 - Eat Man",
		"centerTitle":"EAT MAN",
		"legalText":"(c)2019 by KesieV - www.kesiev.com/rewtro"
	},
	"systemConfiguration":[{
		"screenHeight":184,
		"renderHeight":184,
		"fontModel":4
	}],
	"systemVersion":"0.2",
	"data":[
		{
			"id":"A",
			"images":[
				{"id":"graphics","image":{"data":{"_file":"graphics/eat-man.png"},"format":"monocolor"}}
			],
			"music":[{
				"id":"A",
				"notes":[
					[ 
						"B4-","B5-","F5#","D5#","B5-","F5#","D5#","   ",
						"C5-","C6-","G6-","E6-","C6-","G6-","E6-","   ",
						"B4-","B5-","F5#","D5#","B5-","F5#","D5#","   ",
						"D5#","E5-","F5#","   ",
						"G5-","G5-","G5#","   ",
						"A5-","A5-","B5-","   "
					]
				],
				"instruments":"A"
			}],
			"songs":[{
				"id":"A",
				"music":"A",
				"tempo":2
			}],
			"sprites":[
			{
				"id":"B",
				"x":76,"y":126,
				"textColor":8,"textAlignment":"center"
			},{
				"id":"C",
				"x":76,"y":168,
				"textColor":8,"textAlignment":"center",
				"text":"(C)2019 KESIEV"
			},{
				"id":"D",
				"x":76,"y":40,
				"textAlignment":"center",
				"text":"EAT~MAN","scale":3
			}],
			"tilemaps":[
				{
					"map":["ABCDE"]
				}
			],
			"sounds":[
				{"id":"A","wave":"triangle","attack":10,"sustain":20,"decay":40,"release":127},
				{"id":"E","wave":"square","attack":5,"sustain":5,"limit":101,"decay":12,"release":7,"frequency":0,"pitch":255,"frequencyJump1amount":209},
				{"id":"B","wave":"square","attack":5,"sustain":5,"limit":101,"decay":12,"release":114,"frequency":0,"pitch":255,"frequencyJump1amount":209},
				{"id":"D","wave":"square","attack":255,"sustain":255,"decay":255,"release":255,"pitch":70,"frequencyJump1onset":107,"frequencyJump1amount":145,"frequencyJump2onset":186,"frequencyJump2amount":53}
			],			
			"code":[{
					"when":[{"as":"scene","if":[{"itsAttribute":"timer","is":"%%","_":10}]}],
					"then":[{
						"id":"D",
						"code":[{
							"when":[{"if":[{"itsAttribute":"textColor","is":"==","_":7}]}],
							"then":[{"set":[{"textColor":[{"_":5}]}]}],
							"else":[{"set":[{"textColor":[{"_":7}]}]}]
							}]
					}
					]
				},{
					"when":[{"as":"scene","if":[{"itsAttribute":"timer","is":"==","_":0}]}],
					"then":[				
						{
							"id":"B",
							"set":[{"text":[{"as":"game","attribute":"value3","prefix":"- HIGH SCORE -~"}]}]
						}
					]
				},{
					"when":[{
						"as":"keyboard","attribute":"buttonA","if":[{"is":"hit"}]
					}],
					"then":[
					{
						"playAudio":[{"_":"E"}],
						"as":"game",
						"set":[{
							"value0":[{"_":0}],
							"value1":[{"_":3}],
							"value2":[{"_":1}]
						}],
						"runScene":[{"_":"G"}]
					}
				]}]
		},
		{
			"id":"G",
			"sprites":[

				{"id":"X","flags":"A","width":8,"height":8,"graphicsX":16,"graphicsY":16},
				{"id":"I","flags":"A","width":8,"height":8,"graphicsX":16,"graphicsY":24},

				{"id":"Y","flags":"A","width":8,"height":8,"graphicsX":0,"graphicsY":16},
				{"id":"P","flags":"A","width":8,"height":8,"graphicsX":8,"graphicsY":16},
				{"id":"J","flags":"A","width":8,"height":8,"graphicsX":0,"graphicsY":24},
				{"id":"Q","flags":"A","width":8,"height":8,"graphicsX":8,"graphicsY":24},


				{"id":"M","flags":"L","width":8,"height":8},

				{"id":"L","flags":"E","width":8,"height":8,"graphicsX":24,"graphicsY":128,"value0":1},
				{"id":"W","flags":"E","width":8,"height":8,"graphicsX":24,"graphicsY":136,"value0":10,"value1":1},

				
				{"id":"G","flags":"RGW","value4":15,"width":8,"height":8,"value2":1,"value3":3,"graphicsY":24,"zIndex":1,"backgroundColor":1,"y":64,"x":56},
				{"id":"H","flags":"RGW","value4":10,"width":8,"height":8,"value2":1,"value3":4,"graphicsY":24,"zIndex":1,"backgroundColor":1,"y":64,"x":72},
				{"id":"S","flags":"RGW","value4":8,"width":8,"height":8,"value2":1,"value3":5,"graphicsY":24,"zIndex":1,"backgroundColor":1,"y":64,"x":80},
				{"id":"T","flags":"RGW","value4":6,"width":8,"height":8,"value2":1,"value3":6,"graphicsY":24,"zIndex":1,"backgroundColor":1,"y":64,"x":96},
				{
					"id":"C","flags":"RW","width":8,"height":8,"graphicsX":32,"graphicsY":112,"zIndex":2,
					"x":72,"y":128,
					"animations":[
						{"frames":[0,1,2,1],"speed":2},
						{"frames":[0,0,0,1,2,3,3,4],"speed":4,"mode":"once"}
					],"animation":2

				},
				{"id":"V","width":8,"height":8,"graphicsX":48,"graphicsY":112,"rotate":90,"y":176,"x":136},
				{"id":"Z","x":8,"y":176,"textColor":8},
				{"id":"B","x":144,"y":176,"textColor":8}
			],
			"tilemaps":[{
				"song":"A",
					
				"map":[
					"YXXXXXXXXPYXXXXXXXXP",
					"ILLLMLLLLIILLLLMLLLI",
					"IWYPLYXPLIILYXPLYPWI",
					"ILJQLJXQLJQLJXQLJQLI",
					"IMLLMLMLMLLMLMLMLLMI",
					"ILXXLILXXPYXXLILXXLI",
					"ILLLMILLLIILLLIMLLLI",
					"JXXPLIXXLJQLXXILYXXQ",
					"   ILILLMLLMLLILI   ",
					"XXXQLILYXXXXPLILJXXX",
					"LLLLMLMI    IMLMLLLL",
					"XXXPLILJXXXXQLILYXXX",
					"ZVBILIMLLLLLLMILI   ",
					"YXXQLILXXPYXXLILJXXP",
					"ILLLMLMLLIILLMLMLLLI",
					"ILXPLXXXLJQLXXXLYXLI",
					"IWLIMLMLM LMLMLMILWI",
					"IXLILILXXPYXXLILILXI",
					"ILMLLILLLIILLLILLMLI",
					"ILXXXXXXLJQLXXXXXXLI",
					"ILLLLLLLMLLMLLLLLLLI",
					"JXXXXXXXXXXXXXXXXXXQ"
				]
			}],
			"code":[
				{
					"when":[{"as":"scene","if":[{"itsAttribute":"timer","is":"==","_":0}]}],
					"then":[
						{"spawn":[{"ids":[{"_":"L"}],"at":[{"id":"M"}]}]},
						{"flags":"A","set":[{"backgroundColor":[{"_":2}]}]},
						{"id":"Z","set":[{"text":[{"as":"game","attribute":"value2","prefix":"ROUND "}]}]}
					]
				},
				{
					"when":[{"as":"scene","if":[{"itsAttribute":"timer","is":">","_":115}]}],
					"then":[
						{"load":[{"_":"1"}]}
					]
				}
			]			
		},
		{
			"id":"1",
			"code":[{
				"then":[
					{"flags":"R","remove":true},
					{"spawn":[{"ids":[{"_":"CGHST"}]}]},
					{"flags":"G","subtract":[{"value4":[{"as":"game","attribute":"value2"}]}]},
					{"as":"scene","set":[{"value5":[{"_":176}]}]},
					{"id":"B","set":[{"text":[{"as":"game","attribute":"value1"}]}]},
					{"load":[{"_":"2"}]}
				]
			}]
		},
		{
			"id":"2",
			"code":[				
				{
					"when":[{
						"event":"event0","id":"Z"
					}],
					"then":[
						{"set":[{"value7":[{"emptyList":true}],"value5":[{"emptyList":true}],"value6":[{"emptyList":true}]}]},
						{
							"attribute":"value0",
							"code":[
							{
								"when":[
									{"if":[{"itsAttribute":"speedX","is":">=","_":0}]},
									{"not":true,"if":[{"is":"collidingWith","flags":"A","deltaX":[{"_":8}]}]}
								],
								"then":[
									{"id":"Z","push":[{"value7":[{"_":1}]}]},
									{"code":[{
										"when":[{"if":[{"itsAttribute":"x","is":"<","id":"C","attribute":"x"}]}],
										"then":[{"id":"Z","push":[{"value5":[{"_":1}]}]}],
										"else":[{"id":"Z","push":[{"value6":[{"_":1}]}]}]
									}]}
								]
							},
							{
								"when":[
									{"if":[{"itsAttribute":"speedX","is":"<=","_":0}]},
									{"not":true,"if":[{"is":"collidingWith","flags":"A","deltaX":[{"_":-8}]}]}
								],
								"then":[
									{"id":"Z","push":[{"value7":[{"_":2}]}]},
									{"code":[{
										"when":[{"if":[{"itsAttribute":"x","is":">","id":"C","attribute":"x"}]}],
										"then":[{"id":"Z","push":[{"value5":[{"_":2}]}]}],
										"else":[{"id":"Z","push":[{"value6":[{"_":2}]}]}]
									}]}
								]
							},
							{
								"when":[
									{"if":[{"itsAttribute":"speedY","is":">=","_":0}]},
									{"not":true,"if":[{"is":"collidingWith","flags":"A","deltaY":[{"_":8}]}]}
								],
								"then":[
									{"id":"Z","push":[{"value7":[{"_":3}]}]},
									{"code":[{
										"when":[{"if":[{"itsAttribute":"y","is":"<","id":"C","attribute":"y"}]}],
										"then":[{"id":"Z","push":[{"value5":[{"_":3}]}]}],
										"else":[{"id":"Z","push":[{"value6":[{"_":3}]}]}]
									}]}
								]
							},
							{
								"when":[
									{"if":[{"itsAttribute":"speedY","is":"<=","_":0}]},
									{"not":true,"if":[{"is":"collidingWith","flags":"A","deltaY":[{"_":-8}]}]}
								],
								"then":[
									{"id":"Z","push":[{"value7":[{"_":4}]}]},
									{"code":[{
										"when":[{"if":[{"itsAttribute":"y","is":">","id":"C","attribute":"y"}]}],
										"then":[{"id":"Z","push":[{"value5":[{"_":4}]}]}],
										"else":[{"id":"Z","push":[{"value6":[{"_":4}]}]}]
									}]}
								]
							},
							{
								"then":[
									{"set":[{
										"value7":[{"id":"Z","attribute":"value7","randomValue":true}],
										"value5":[{"id":"Z","attribute":"value5","randomValue":true}],
										"value6":[{"id":"Z","attribute":"value6","randomValue":true}]
									}]}
								]
							},					
							{
								"when":[
									{"if":[{"itsAttribute":"value4","is":"<","list":[1,10],"randomValue":true}]},
									{"if":[{"itsAttribute":"value5","is":">","_":0}]}
								],
								"then":[{"set":[{"value7":[{"attribute":"value5"}]}]}]
							},
							{
								"when":[
									{"as":"scene","if":[{"itsAttribute":"value0","is":">","_":0}]},
									{"if":[{"itsAttribute":"value6","is":">","_":0}]}
								],
								"then":[{"set":[{"value7":[{"attribute":"value6"}]}]}]
							},
							{
								"when":[{"if":[{"itsAttribute":"value7","is":"==","_":1}]}],
								"then":[{"set":[{"speedY":[{"_":0}],"speedX":[{"as":"scene","attribute":"value1"}],"value1":[{"_":48}],"flipX":[{"_":0}]}]}]
							},
							{
								"when":[{"if":[{"itsAttribute":"value7","is":"==","_":2}]}],
								"then":[{"set":[{"speedY":[{"_":0}],"speedX":[{"as":"scene","attribute":"value2"}],"value1":[{"_":48}],"flipX":[{"_":1}]}]}]
							},
							{
								"when":[{"if":[{"itsAttribute":"value7","is":"==","_":3}]}],
								"then":[{"set":[{"speedX":[{"_":0}],"speedY":[{"as":"scene","attribute":"value1"}],"value1":[{"_":40}],"flipX":[{"_":0}]}]}]
							},
							{
								"when":[{"if":[{"itsAttribute":"value7","is":"==","_":4}]}],
								"then":[{"set":[{"speedX":[{"_":0}],"speedY":[{"as":"scene","attribute":"value2"}],"value1":[{"_":32}],"flipX":[{"_":0}]}]}]
							}
					]}]
				},
				{
					"when":[{"id":"C"}],
					"then":[{"code":[
						{
							"when":[{"as":"keyboard","attribute":"up","if":[{"is":"down"}]}],
							"then":[{"as":"target","set":[{"value0":[{"_":1}]}]}]
						},
						{
							"when":[{"as":"keyboard","attribute":"down","if":[{"is":"down"}]}],
							"then":[{"as":"target","set":[{"value0":[{"_":2}]}]}]
						},
						{
							"when":[{"as":"keyboard","attribute":"left","if":[{"is":"down"}]}],
							"then":[{"as":"target","set":[{"value0":[{"_":3}]}]}]
						},
						{
							"when":[{"as":"keyboard","attribute":"right","if":[{"is":"down"}]}],
							"then":[{"as":"target","set":[{"value0":[{"_":4}]}]}]
						},
						{
							"when":[
								{"if":[{"itsAttribute":"value0","is":"==","_":1}]},
								{"not":true,"if":[{"is":"collidingWith","flags":"A","deltaY":[{"_":-8}]}]}
							],
							"then":[{
								"id":"C","set":[{"speedX":[{"_":0}],"speedY":[{"_":-1}],"rotate":[{"_":0}],"animation":[{"_":0}]}]
							}]
						},
						{
							"when":[
								{"if":[{"itsAttribute":"value0","is":"==","_":2}]},
								{"not":true,"if":[{"is":"collidingWith","flags":"A","deltaY":[{"_":8}]}]}
							],
							"then":[{
								"id":"C","set":[{"speedX":[{"_":0}],"speedY":[{"_":1}],"rotate":[{"_":180}],"animation":[{"_":0}]}]
							}]
						},
						{
							"when":[
								{"if":[{"itsAttribute":"value0","is":"==","_":3}]},
								{"not":true,"if":[{"is":"collidingWith","flags":"A","deltaX":[{"_":-8}]}]}
							],
							"then":[{
								"id":"C","set":[{"speedX":[{"_":-1}],"speedY":[{"_":0}],"rotate":[{"_":270}],"animation":[{"_":0}]}]
							}]
						},				
						{
							"when":[
								{"if":[{"itsAttribute":"value0","is":"==","_":4}]},
								{"not":true,"if":[{"is":"collidingWith","flags":"A","deltaX":[{"_":8}]}]}
							],
							"then":[{
								"id":"C","set":[{"speedX":[{"_":1}],"speedY":[{"_":0}],"rotate":[{"_":90}],"animation":[{"_":0}]}]
							}]
						},
						{
							"when":[{"if":[{"is":"collidingWith","flags":"E"}]}],
							"then":[
								{
									"as":"that",
									"code":[
										{
											"when":[{"if":[{"itsAttribute":"value1","is":"==","_":1}]}],
											"then":[
												{"flags":"G","set":[{"value2":[{"_":1}],"graphicsX":[{"_":56}]}]},
												{"playAudio":[{"_":"B"}],"as":"scene","set":[{"value0":[{"_":125}]}]}
											],"else":[{"playAudio":[{"_":"E"}]}]
										},
										{
											"then":[
												{"as":"game","sum":[{"value0":[{"as":"that","attribute":"value0"}]}]},
												{"remove":true}										
											]
										}
									]
								}
							]
						},
						{
							"when":[
								{"if":[{"is":"collidingWith","flags":"G"}]}
							],
							"then":[{
								"as":"that",
								"code":[{									
									"when":[{"if":[{"itsAttribute":"value0","is":"==","_":0}]}],
									"then":[{
										"code":[
											{
												"when":[{"as":"scene","if":[{"itsAttribute":"value0","is":">","_":0}]}],
												"then":[
													{"playAudio":[{"_":"B"}],"as":"game","sum":[{"value0":[{"_":100}]}]},
													{"as":"target","set":[{"graphicsX":[{"_":64}],"value0":[{"_":125}]}]}
												],
												"else":[{"as":"scene","set":[{"timer":[{"_":0}]}],"load":[{"_":"3"}]}]
											}
										]
									}]									
								}]
							}]
						}
					]}]			
				},
				{
					"when":[{"as":"scene","if":[{"itsAttribute":"value0","is":">","_":0}]}],
					"then":[{"subtract":[{"value0":[{"_":1}]}],"set":[{"value1":[{"_":0.5}],"value2":[{"_":-0.5}]}]}],
					"else":[{"as":"scene","set":[{"value1":[{"_":1}],"value2":[{"_":-1}]}]}]
				},				
				{
					"when":[{"flags":"G"}],
					"then":[				
						{"code":[
						{
							"then":[
							{
							"id":"Z",
							"set":[{
								"value0":[{"as":"that"}],
								"value1":[{"as":"that","attribute":"x"}],
								"value2":[{"as":"that","attribute":"y"}]
							}]
						}]
						},
						{				
							"when":[{"if":[{"is":"collidingWith","id":"M"}]}],
							"then":[{
								"as":"that",
								"code":[								
									{
										"when":[
											{"if":[{"itsAttribute":"x","is":"==","id":"Z","attribute":"value1"}]},
											{"if":[{"itsAttribute":"y","is":"==","id":"Z","attribute":"value2"}]}
										],
										"then":[{"id":"Z","attribute":"value0","set":[{"value2":[{"_":1}]}]}]
									}
								]
							}]
						},{
							"when":[{"if":[{"itsAttribute":"value2","is":"==","_":1}]}],
							"then":[{
								"id":"Z",
								"forceEvent":true,
								"triggerEvent":"event0"
							},{"set":[{"value2":[{"_":0}]}]}]
						},						
						{
							"when":[{"as":"scene","if":[{"itsAttribute":"value0","is":">","_":0}]}],
							"then":[
								{
									"as":"target",
									"set":[{
										"backgroundColor":[{"_":2}]
									}]
								},{
									"as":"target",
									"code":[{"when":[
										{"as":"scene","if":[{"itsAttribute":"value0","is":"<","_":25}]},
										{"as":"scene","if":[{"itsAttribute":"timer","is":"%%","_":2}]}
									],"then":[{"as":"target","set":[{"backgroundColor":[{"_":8}]}]}]}]
								}
							],
							"else":[
								{
									"set":[{
										"graphicsX":[{"attribute":"value1"}],
										"backgroundColor":[{"attribute":"value3"}]
									}]
								}
							]
						},
						{
							"when":[{"if":[{"itsAttribute":"value0","is":">","_":0}]}],
							"then":[{
								"subtract":[{"value0":[{"_":1}]}],
								"set":[{"backgroundColor":[{"_":15}]}]
							}]
						}
					]}]
				},				
				{
					"when":[
						{"event":"hitWall","flags":"W","bounds":[{
							"modeRight":"warp",
							"modeLeft":"warp",
							"x":[{"_":0}],
							"y":[{"_":0}],
							"width":[{"_":160}],
							"height":[{"_":176}]
						}]}
					],
					"then":[							
					]
				},
				{
					"when":[{
						"event":"hitWall","flags":"G","if":[{"is":"collidingWith","flags":"A"}]
					}],
					"then":[{"set":[{"value2":[{"_":1}]}]}]
				},
				{
					"when":[{
						"event":"hitWall","id":"C","if":[{"is":"collidingWith","flags":"A"}]
					}],
					"then":[{"bounce":[{"speedY":[{"_":0}],"speedX":[{"_":0}]}],"set":[{"animation":[{"_":2}]}]}]
				},
				{
					"then":[
						{"id":"Z","set":[{"text":[{"as":"game","attribute":"value0","prefix":"1UP: "}]}]}
					]
				},
				{
					"when":[{"flags":"E","count":true,"if":[{"is":"==","_":0}]}],
					"then":[{"as":"scene","set":[{"timer":[{"_":0}]}],"load":[{"_":4}]}]
				}
			]
		},
		{
			"id":"3",
			"code":[
				{
					"when":[{"as":"scene","if":[{"itsAttribute":"timer","is":"==","_":1}]}],
					"then":[
						{"playAudio":[{"_":"D"}],"flags":"G","remove":true},
						{"id":"C","set":[{"speedX":[{"_":0}],"speedY":[{"_":0}],"animation":[{"_":1}]}]}
					]
				},
				{
					"when":[{"as":"scene","if":[{"itsAttribute":"timer","is":"==","_":50}]}],
					"then":[
						{"as":"game","subtract":[{"value1":[{"_":1}]}]},
						{
							"code":[{
								"when":[{"as":"game","if":[{"itsAttribute":"value1","is":"<","_":0}]}],
								"then":[{"runScene":[{"_":"D"}]}],
								"else":[{"load":[{"_":"1"}]}]
								
							}]
						}
					]
				}
			]
		},
		{
			"id":"4",
			"code":[
				{
					"when":[{"as":"scene","if":[{"itsAttribute":"timer","is":"==","_":1}]}],
					"then":[
						{"flags":"R","remove":true}
					]
				},
				{
					"when":[{"as":"scene","if":[{"itsAttribute":"timer","is":"%%","_":10}]}],
					"then":[{
						"flags":"A",
						"code":[{
							"when":[{"if":[{"itsAttribute":"backgroundColor","is":"==","_":2}]}],
							"then":[{"set":[{"backgroundColor":[{"_":8}]}]}],
							"else":[{"set":[{"backgroundColor":[{"_":2}]}]}]
							}]
					}
					]
				},
				{
					"when":[{"as":"scene","if":[{"itsAttribute":"timer","is":"==","_":69}]}],
					"then":[
						{"as":"game","sum":[{"value2":[{"_":1}],"value0":[{"_":500}]}],"runScene":[{"_":"G"}]}
					]
				}
			]
		},
		{
			"id":"D",
			"_file":"scenes/arcade-debriefing.json",
			"_replace":{
				"gameOverText":"GAME OVER",
				"noHiScoreText":"TRY~AGAIN!",
				"hiScoreText":"NEW~HIGH SCORE!",
				"scoreText":"SCORE: ",
				"hiScoreBlinkSpeed":8,
				"hiScoreColor":7,
				"gameOverColor":5,
				"scoreColor":8,
				"backgroundColor":0,
				"runScene":"A",
				"closeSound":"E",
				"hiScoreSound":"B",
				"line1y":68,
				"line2y":84,
				"line3y":100
			}
		}
	]
}